(()=>{"use strict";var e={796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.listeners={}}socketEvent(e){try{var t=JSON.parse(e)}catch(e){return}if(t instanceof Object&&!0===t.widgetbot&&t.id===this.id){const{event:e,data:n}=t,r=this.listeners[e];r&&r.forEach((e=>e(n)))}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),console.debug(`[embed-api] on '${String(e)}'`,t)}removeListener(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((e=>e===t)),console.debug(`[embed-api] removeListener '${String(e)}'`,t))}}},753:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(796);class i extends r.default{constructor(e){super(),this.server={emit:(e,t)=>{const n=this.listeners[e];n&&n.forEach((e=>e(t)))}},Object.assign(this,e),window.addEventListener("message",(({data:e})=>this.socketEvent(e)))}emit(e,t){if(!window.parent)return!1;const n=JSON.stringify({widgetbot:!0,id:this.id,event:e,data:t});return!!this.iframe.contentWindow&&(this.iframe.contentWindow.postMessage(n,"*"),!0)}}t.default=i},16:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Server=t.Client=t.API=void 0;var r=n(796);Object.defineProperty(t,"API",{enumerable:!0,get:function(){return r.default}});var i=n(753);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return i.default}});var s=n(517);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return s.default}})},517:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(796);class i extends r.default{constructor(e){super(),this.targetOrigin="*",this.client={emit:(e,t)=>{const n=this.listeners[e];n&&n.forEach((e=>e(t)))}},Object.assign(this,e),window.addEventListener("message",(({data:e})=>this.socketEvent(e)))}emit(e,t){if(console.debug(`[embed-api] emit '${e}'`,t),!window.parent)return!1;const n=JSON.stringify({widgetbot:!0,id:this.id,event:e,data:t});return window.parent.postMessage(n,this.targetOrigin),!0}}t.default=i},264:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Embed=t.Root=void 0,t.Root=({width:e,height:t})=>Object.assign(Object.assign(Object.assign({},t&&{height:+t?`${t}px`:t}),e&&{width:+e?`${e}px`:e}),{display:"inline-block",overflow:"hidden",backgroundColor:"rgb(54, 57, 62)",borderRadius:7,verticalAlign:"top"}),t.Embed={width:"100%",height:"100%",border:"none"}},953:(e,t,n)=>{const r=n(16),i=n(609),s=n(264),o=n(769);class a extends i.PureComponent{constructor(){super(...arguments),this.state={url:null,id:(0,o.generateUUID)()},this.api=new r.Client({id:this.state.id,iframe:null})}static getDerivedStateFromProps(e,t){let n=e.shard;n.startsWith("http")||(n=`https://${n}`),n.endsWith("/")&&(n=n.substring(0,n.length-1));let r=Object.assign(Object.assign({},e.options),{api:t.id});return e.thread&&(r.thread=e.thread),e.username&&(r.username=e.username),e.avatar&&(r.avatar=e.avatar),e.token&&(r.token=e.token),e.notifications&&(r.notifications=e.notifications),e.notificationTimeout&&(r.notificationtimeout=e.notificationTimeout),e.accessibility&&(r.accessibility=e.accessibility.join()),e.settingsGroup&&(r["settings-group"]=e.settingsGroup),{url:`${n}/channels/${e.server}${e.channel?`/${e.channel}`:""}/${(0,o.searchParams)(r)}`}}componentDidMount(){const{onAPI:e}=this.props;e&&e(this.api)}render(){const{defer:e,className:t,style:n,height:r,width:o,focusable:a}=this.props;return i.createElement("div",{className:t,style:Object.assign(Object.assign({},(0,s.Root)({width:o,height:r})),n)},i.createElement("iframe",{src:e?"":this.state.url,ref:e=>this.api.iframe=e,style:s.Embed,tabIndex:a?null:-1,allow:"clipboard-write; fullscreen",title:"Discord chat embed"}))}}a.defaultProps={server:"299881420891881473",shard:"https://e.widgetbot.io",options:{},defer:!1,focusable:!0},t.A=a},769:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchParams=t.generateUUID=void 0,t.generateUUID=function(){let e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},t.searchParams=(e={})=>"?"+Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")},609:e=>{e.exports=window.React}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=function(){var e=document.currentScript;if(!e){for(var t=document.getElementsByTagName("script"),n=[],r=0;r<t.length;r++)n.push(t[r]);e=(n=n.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(n,"p",{get:(r=i().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var s=jsonpScriptSrc;jsonpScriptSrc=function(e){var t,n=(t=i(),/\/_dash-component-suites\//.test(t.src)),r=s(e);if(!n)return r;var o=r.split("/"),a=o.slice(-1)[0].split(".");return a.splice(1,0,"v0_0_3m1717211291"),o.splice(-1,1,a.join(".")),o.join("/")}}var o={};(()=>{n.r(o),n.d(o,{DiscordCrate:()=>l,DiscordWidget:()=>c});var e=n(609),t=n.n(e);const r=window.PropTypes;var i=n.n(r),s=n(953),a=function(e){var n=e.id,r=e.server,i=e.channel,o=e.avatar,a=e.username,c=e.className,d=e.width,l=e.height;return t().createElement("div",{id:n,className:c},t().createElement(s.A,{server:r,channel:i,username:a,avatar:o,width:d,height:l}))};a.defaultProps={server:"1246197743307980940",channel:"1246197743781810332",username:null,avatar:null,className:null,width:"100%",height:"100%"},a.propTypes={id:i().string,server:i().string.isRequired,channel:i().string.isRequired,username:i().string,avatar:i().string,className:i().string,width:i().string,height:i().string};const c=a;var d=function(n){var r=n.id,i=n.server,s=n.channel,o=n.username,a=n.avatar,c=n.location,d=n.color,l=n.glyph,u=n.notifications,h=n.indicator,p=n.timeout,f=n.allChannelNotifications,m=n.embedNotificationTimeout,g=n.defer,v=n.shard;return console.log(n),(0,e.useEffect)((function(){var e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/@widgetbot/crate@3",e.async=!0,e.onload=function(){window.Crate=new window.Crate({server:i,channel:s,username:o,avatar:a,location:c,color:d,glyph:l,notifications:u,indicator:h,timeout:p,allChannelNotifications:f,embedNotificationTimeout:m,defer:g,shard:v})},document.body.appendChild(e),function(){document.body.removeChild(e)}}),[i,s,o,a,c]),t().createElement("div",{id:r})};d.defaultProps={server:"1246197743307980940",channel:"1246197743781810332"},d.propTypes={id:i().string,server:i().string.isRequired,channel:i().string,username:i().string,avatar:i().string,location:i().array,color:i().string,glyph:i().array,notifications:i().bool,indicator:i().bool,timeout:i().number,allChannelNotifications:i().bool,embedNotificationTimeout:i().number,defer:i().bool,shard:i().string};const l=d})(),window.dash_discord=o})();
//# sourceMappingURL=dash_discord.min.js.map