(()=>{"use strict";var e={796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.listeners={}}socketEvent(e){try{var t=JSON.parse(e)}catch(e){return}if(t instanceof Object&&!0===t.widgetbot&&t.id===this.id){const{event:e,data:r}=t,n=this.listeners[e];n&&n.forEach((e=>e(r)))}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),console.debug(`[embed-api] on '${String(e)}'`,t)}removeListener(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((e=>e===t)),console.debug(`[embed-api] removeListener '${String(e)}'`,t))}}},753:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(796);class i extends n.default{constructor(e){super(),this.server={emit:(e,t)=>{const r=this.listeners[e];r&&r.forEach((e=>e(t)))}},Object.assign(this,e),window.addEventListener("message",(({data:e})=>this.socketEvent(e)))}emit(e,t){if(!window.parent)return!1;const r=JSON.stringify({widgetbot:!0,id:this.id,event:e,data:t});return!!this.iframe.contentWindow&&(this.iframe.contentWindow.postMessage(r,"*"),!0)}}t.default=i},16:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Server=t.Client=t.API=void 0;var n=r(796);Object.defineProperty(t,"API",{enumerable:!0,get:function(){return n.default}});var i=r(753);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return i.default}});var s=r(517);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return s.default}})},517:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(796);class i extends n.default{constructor(e){super(),this.targetOrigin="*",this.client={emit:(e,t)=>{const r=this.listeners[e];r&&r.forEach((e=>e(t)))}},Object.assign(this,e),window.addEventListener("message",(({data:e})=>this.socketEvent(e)))}emit(e,t){if(console.debug(`[embed-api] emit '${e}'`,t),!window.parent)return!1;const r=JSON.stringify({widgetbot:!0,id:this.id,event:e,data:t});return window.parent.postMessage(r,this.targetOrigin),!0}}t.default=i},264:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Embed=t.Root=void 0,t.Root=({width:e,height:t})=>Object.assign(Object.assign(Object.assign({},t&&{height:+t?`${t}px`:t}),e&&{width:+e?`${e}px`:e}),{display:"inline-block",overflow:"hidden",backgroundColor:"rgb(54, 57, 62)",borderRadius:7,verticalAlign:"top"}),t.Embed={width:"100%",height:"100%",border:"none"}},953:(e,t,r)=>{const n=r(16),i=r(609),s=r(264),o=r(769);class a extends i.PureComponent{constructor(){super(...arguments),this.state={url:null,id:(0,o.generateUUID)()},this.api=new n.Client({id:this.state.id,iframe:null})}static getDerivedStateFromProps(e,t){let r=e.shard;r.startsWith("http")||(r=`https://${r}`),r.endsWith("/")&&(r=r.substring(0,r.length-1));let n=Object.assign(Object.assign({},e.options),{api:t.id});return e.thread&&(n.thread=e.thread),e.username&&(n.username=e.username),e.avatar&&(n.avatar=e.avatar),e.token&&(n.token=e.token),e.notifications&&(n.notifications=e.notifications),e.notificationTimeout&&(n.notificationtimeout=e.notificationTimeout),e.accessibility&&(n.accessibility=e.accessibility.join()),e.settingsGroup&&(n["settings-group"]=e.settingsGroup),{url:`${r}/channels/${e.server}${e.channel?`/${e.channel}`:""}/${(0,o.searchParams)(n)}`}}componentDidMount(){const{onAPI:e}=this.props;e&&e(this.api)}render(){const{defer:e,className:t,style:r,height:n,width:o,focusable:a}=this.props;return i.createElement("div",{className:t,style:Object.assign(Object.assign({},(0,s.Root)({width:o,height:n})),r)},i.createElement("iframe",{src:e?"":this.state.url,ref:e=>this.api.iframe=e,style:s.Embed,tabIndex:a?null:-1,allow:"clipboard-write; fullscreen",title:"Discord chat embed"}))}}a.defaultProps={server:"299881420891881473",shard:"https://e.widgetbot.io",options:{},defer:!1,focusable:!0},t.A=a},769:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchParams=t.generateUUID=void 0,t.generateUUID=function(){let e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{let r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))},t.searchParams=(e={})=>"?"+Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")},609:e=>{e.exports=window.React}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n,i=function(){var e=document.currentScript;if(!e){for(var t=document.getElementsByTagName("script"),r=[],n=0;n<t.length;n++)r.push(t[n]);e=(r=r.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(r,"p",{get:(n=i().src.split("/").slice(0,-1).join("/")+"/",function(){return n})}),"undefined"!=typeof jsonpScriptSrc){var s=jsonpScriptSrc;jsonpScriptSrc=function(e){var t,r=(t=i(),/\/_dash-component-suites\//.test(t.src)),n=s(e);if(!r)return n;var o=n.split("/"),a=o.slice(-1)[0].split(".");return a.splice(1,0,"v0_0_1m1717191591"),o.splice(-1,1,a.join(".")),o.join("/")}}var o={};(()=>{r.r(o),r.d(o,{DiscordCrate:()=>h,DiscordWidget:()=>p});var e=r(609),t=r.n(e);const n=window.PropTypes;var i=r.n(n),s=r(953);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var r=e.id,n=e.server,i=e.channel,o=e.avatar,a=e.username,c=e.className,d=e.style;return t().createElement("div",{id:r,className:c,style:l(l({},d),{},{height:"50vh",width:"50vw"})},t().createElement(s.A,{server:n,channel:i,username:a,avatar:o}))};u.defaultProps={server:"299881420891881473",channel:"355719584830980096",username:null,avatar:null,className:null,style:{}},u.propTypes={id:i().string,server:i().string.isRequired,channel:i().string.isRequired,username:i().string,avatar:i().string,className:i().string,style:i().object};const p=u;var f=function(r){var n=r.id,i=r.server,s=r.channel;return(0,e.useEffect)((function(){var e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/@widgetbot/crate@3",e.async=!0,e.onload=function(){window.Crate=new window.Crate({server:i,channel:s})},document.body.appendChild(e),function(){document.body.removeChild(e)}}),[i,s]),t().createElement("div",{id:n})};f.defaultProps={server:"299881420891881473",channel:"355719584830980096"},f.propTypes={id:i().string,server:i().string.isRequired,channel:i().string.isRequired};const h=f})(),window.dash_discord=o})();
//# sourceMappingURL=dash_discord.min.js.map